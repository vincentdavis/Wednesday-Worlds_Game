(function(){"use strict";var e={7760:function(e,t,n){var o=n(2856),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("nav"),t("router-view")],1)},i=[],r=n(1656),a={},u=(0,r.A)(a,s,i,!1,null,null,null),c=u.exports,l=n(1106);(0,l.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=n(1594),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("h2",[e._v("Enter your username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("button",{on:{click:e.login}},[e._v("Login")])])},h=[],f=(n(4114),{name:"LoginComponent",data(){return{username:""}},methods:{login(){this.username.trim()?this.$router.push({name:"Game",params:{username:this.username}}):alert("Please enter a valid username")}}}),y=f,m=(0,r.A)(y,p,h,!1,null,"6f10c53b",null),v=m.exports,b=function(){var e=this,t=e._self._c;return t("div",[e.username?t("BoxComponent",{attrs:{username:e.username}}):t("div",[e._v(" "+e._s(e.$router.push({name:"Login"}))+" ")])],1)},w=[],g=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"controls",staticStyle:{position:"absolute",bottom:"10px"}},[t("button",{on:{touchstart:function(t){return e.onButtonDown("w")},touchend:function(t){return e.onButtonUp("w")}}},[e._v("W")]),t("button",{on:{touchstart:function(t){return e.onButtonDown("a")},touchend:function(t){return e.onButtonUp("a")}}},[e._v("A")]),t("button",{on:{touchstart:function(t){return e.onButtonDown("s")},touchend:function(t){return e.onButtonUp("s")}}},[e._v("S")]),t("button",{on:{touchstart:function(t){return e.onButtonDown("d")},touchend:function(t){return e.onButtonUp("d")}}},[e._v("D")])])])},k=[],x=n(9318),_=n(1301),A=n(6918),j=n(7661),C={name:"BoxComponent",props:["username"],data(){return{socket:null,scene:null,camera:null,renderer:null,box:null,ground:null,keys:{a:{pressed:!1},d:{pressed:!1},s:{pressed:!1},w:{pressed:!1}},players:{}}},mounted(){this.initThree(),this.initSocket(),this.animate(),this.addEventListeners()},methods:{onButtonDown(e){this.keys[e].pressed=!0},onButtonUp(e){this.keys[e].pressed=!1},initThree(){this.scene=new x.Z58,this.camera=new x.ubm(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,2.74,8),this.renderer=new x.JeP({alpha:!0,antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement);const e=new x.iNn(1,1,1),t=new x._4j({color:"#00ff00"});this.box=new x.eaF(e,t),this.box.castShadow=!0,this.box.velocity={x:0,y:-.01,z:0},this.box.gravity=-.002;const n=new _.J;n.load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",(e=>{const t=new A._(this.username,{font:e,size:.2,height:.02}),n=new x._4j({color:"#ffffff"}),o=new x.eaF(t,n);o.position.set(-.5,.5,.5),this.box.add(o)})),this.scene.add(this.box);const o=new x.iNn(10,.5,50),s=new x._4j({color:"#0369a1"});this.ground=new x.eaF(o,s),this.ground.position.y=-2,this.scene.add(this.ground);const i=new x.ZyN(16777215,1);i.position.y=3,i.position.z=1,i.castShadow=!0,this.scene.add(i),this.scene.add(new x.$p8(16777215,.5))},initSocket(){this.socket=(0,j.io)("http://165.232.188.93:3000"),this.socket.emit("newPlayer",{username:this.username}),this.socket.on("updatePlayers",(e=>{this.updatePlayers(e)}))},updatePlayers(e){console.log(e);for(const t in this.players)e[t]||(this.scene.remove(this.players[t].box),delete this.players[t]);for(const t in e)if(t!==this.socket.id)if(this.players[t])this.players[t].box.position.set(e[t].position.x,e[t].position.y,e[t].position.z);else{const n=new x.iNn(1,1,1),o=new x._4j({color:"#ff0000"}),s=new x.eaF(n,o);s.position.set(e[t].position.x,e[t].position.y,e[t].position.z);const i=new _.J;i.load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",(n=>{const o=new A._(e[t].username,{font:n,size:.2,height:.02}),i=new x._4j({color:"#ffffff"}),r=new x.eaF(o,i);r.position.set(-.5,.5,.5),s.add(r)})),this.scene.add(s),this.players[t]={box:s}}},animate(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),this.box.velocity.x=0,this.box.velocity.z=0,this.keys.a.pressed?this.box.velocity.x=-.05:this.keys.d.pressed&&(this.box.velocity.x=.05),this.keys.s.pressed?this.box.velocity.z=.05:this.keys.w.pressed&&(this.box.velocity.z=-.05),this.box.position.x+=this.box.velocity.x,this.box.position.z+=this.box.velocity.z,this.applyGravity(this.box,this.ground),this.socket.emit("move",{position:this.box.position})},applyGravity(e,t){e.velocity.y+=e.gravity,this.boxCollision(e,t)?(e.velocity.y*=-.5,e.position.y=t.position.y+.5):e.position.y+=e.velocity.y},boxCollision(e,t){const n=e.position.x+.5>=t.position.x-5&&e.position.x-.5<=t.position.x+5,o=e.position.y-.5+e.velocity.y<=t.position.y+.25&&e.position.y+.5>=t.position.y-.25,s=e.position.z+.5>=t.position.z-25&&e.position.z-.5<=t.position.z+25;return n&&o&&s},addEventListeners(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},onKeyDown(e){switch(e.code){case"KeyA":this.keys.a.pressed=!0;break;case"KeyD":this.keys.d.pressed=!0;break;case"KeyS":this.keys.s.pressed=!0;break;case"KeyW":this.keys.w.pressed=!0;break;case"Space":this.box.velocity.y=.08;break}},onKeyUp(e){switch(e.code){case"KeyA":this.keys.a.pressed=!1;break;case"KeyD":this.keys.d.pressed=!1;break;case"KeyS":this.keys.s.pressed=!1;break;case"KeyW":this.keys.w.pressed=!1;break}}}},S=C,z=(0,r.A)(S,g,k,!1,null,"efa382e6",null),B=z.exports,O={name:"GameComponent",components:{BoxComponent:B},props:["username"]},E=O,P=(0,r.A)(E,b,w,!1,null,"522b44e5",null),K=P.exports;o.Ay.use(d.Ay);const N=[{path:"/about",name:"about",component:()=>n.e(594).then(n.bind(n,9220))},{path:"/",name:"Login",component:v},{path:"/game",name:"Game",component:K,props:e=>({username:e.params.username})}],D=new d.Ay({base:"/",routes:N});var F=D,L=n(1910);o.Ay.use(L.Ay);var T=new L.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});o.Ay.config.productionTip=!1,new o.Ay({router:F,store:T,render:e=>e(c)}).$mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,i){if(!o){var r=1/0;for(l=0;l<e.length;l++){o=e[l][0],s=e[l][1],i=e[l][2];for(var a=!0,u=0;u<o.length;u++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(a=!1,i<r&&(r=i));if(a){e.splice(l--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,s,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.70c9e840.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="wednesday-worlds-game:";n.l=function(o,s,i,r){if(e[o])e[o].push(s);else{var a,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(u=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=o),e[o]=[s];var p=function(t,n){a.onerror=a.onload=null,clearTimeout(h);var s=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),u&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.f.j=function(t,o){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)o.push(s[2]);else{var i=new Promise((function(n,o){s=e[t]=[n,o]}));o.push(s[2]=i);var r=n.p+n.u(t),a=new Error,u=function(o){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",a.name="ChunkLoadError",a.type=i,a.request=r,s[1](a)}};n.l(r,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,r=o[0],a=o[1],u=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(u)var l=u(n)}for(t&&t(o);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},o=self["webpackChunkwednesday_worlds_game"]=self["webpackChunkwednesday_worlds_game"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(7760)}));o=n.O(o)})();
//# sourceMappingURL=app.a830277e.js.map